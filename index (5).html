<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row =>
                    row.some(cell => cell !== '' && cell !== null && cell !== undefined)
                );

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrepTrack-By Akash Chaudhary</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.22.9/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        .dropdown:hover .dropdown-menu {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Comprehensive exam data based on official syllabi
        const initialExams = [
            {
                name: "SSC CGL",
                subjects: [
                    {
                        name: "General Intelligence and Reasoning",
                        topics: [
                            { name: "Analogies", subtopics: ["Semantic Analogies", "Symbolic Analogies"], completedSubtopics: [] },
                            { name: "Classification", subtopics: ["Number Classification", "Letter Classification"], completedSubtopics: [] },
                            { name: "Series", subtopics: ["Number Series", "Alphabet Series"], completedSubtopics: [] },
                            { name: "Coding-Decoding", subtopics: ["Letter Coding", "Number Coding"], completedSubtopics: [] },
                            { name: "Blood Relations", subtopics: ["Family Tree", "Coded Relations"], completedSubtopics: [] },
                            { name: "Direction Sense", subtopics: ["Direction Test", "Distance Test"], completedSubtopics: [] },
                            { name: "Syllogism", subtopics: ["Categorical Syllogism", "Conditional Syllogism"], completedSubtopics: [] },
                            { name: "Non-Verbal Reasoning", subtopics: ["Mirror Images", "Paper Folding"], completedSubtopics: [] },
                            { name: "Seating Arrangement", subtopics: ["Linear Arrangement", "Circular Arrangement"], completedSubtopics: [] },
                            { name: "Puzzles", subtopics: ["Floor Puzzles", "Scheduling Puzzles"], completedSubtopics: [] },
                            { name: "Venn Diagrams", subtopics: ["Logical Venn Diagrams", "Set Theory"], completedSubtopics: [] },
                            { name: "Word Formation", subtopics: ["Word Building", "Anagrams"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "General Awareness",
                        topics: [
                            { name: "History", subtopics: ["Ancient History", "Medieval History", "Modern History"], completedSubtopics: [] },
                            { name: "Geography", subtopics: ["Physical Geography", "Human Geography"], completedSubtopics: [] },
                            { name: "Polity", subtopics: ["Constitution", "Governance"], completedSubtopics: [] },
                            { name: "Economics", subtopics: ["Microeconomics", "Macroeconomics"], completedSubtopics: [] },
                            { name: "Science", subtopics: ["Physics", "Chemistry", "Biology"], completedSubtopics: [] },
                            { name: "Current Affairs", subtopics: ["National", "International"], completedSubtopics: [] },
                            { name: "Static GK", subtopics: ["Capitals", "Currencies"], completedSubtopics: [] },
                            { name: "Books and Authors", subtopics: ["Fiction", "Non-Fiction"], completedSubtopics: [] },
                            { name: "Important Dates", subtopics: ["National Days", "International Days"], completedSubtopics: [] },
                            { name: "Sports", subtopics: ["Cricket", "Football"], completedSubtopics: [] },
                            { name: "Awards and Honors", subtopics: ["National Awards", "International Awards"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "Quantitative Aptitude",
                        topics: [
                            { name: "Number Systems", subtopics: ["LCM & HCF", "Divisibility"], completedSubtopics: [] },
                            { name: "Percentage", subtopics: ["Profit Percentage", "Loss Percentage"], completedSubtopics: [] },
                            { name: "Ratio & Proportion", subtopics: ["Simple Ratios", "Compound Ratios"], completedSubtopics: [] },
                            { name: "Profit & Loss", subtopics: ["Discount", "Marked Price"], completedSubtopics: [] },
                            { name: "Time & Work", subtopics: ["Pipes & Cisterns", "Work Efficiency"], completedSubtopics: [] },
                            { name: "Geometry", subtopics: ["Triangles", "Circles"], completedSubtopics: [] },
                            { name: "Algebra", subtopics: ["Linear Equations", "Quadratic Equations"], completedSubtopics: [] },
                            { name: "Data Interpretation", subtopics: ["Bar Graphs", "Pie Charts"], completedSubtopics: [] },
                            { name: "Trigonometry", subtopics: ["Heights & Distances", "Trigonometric Ratios"], completedSubtopics: [] },
                            { name: "Mensuration", subtopics: ["2D Mensuration", "3D Mensuration"], completedSubtopics: [] },
                            { name: "Simplification", subtopics: ["BODMAS", "Fractions"], completedSubtopics: [] },
                            { name: "Simple & Compound Interest", subtopics: ["SI Formulas", "CI Formulas"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "English Comprehension",
                        topics: [
                            { name: "Reading Comprehension", subtopics: ["Passage Analysis", "Theme Detection"], completedSubtopics: [] },
                            { name: "Grammar", subtopics: ["Tenses", "Articles"], completedSubtopics: [] },
                            { name: "Vocabulary", subtopics: ["Synonyms", "Antonyms"], completedSubtopics: [] },
                            { name: "Sentence Correction", subtopics: ["Error Spotting", "Sentence Improvement"], completedSubtopics: [] },
                            { name: "Idioms & Phrases", subtopics: ["Common Idioms", "Phrasal Verbs"], completedSubtopics: [] },
                            { name: "One Word Substitution", subtopics: ["Single Word Phrases", "Descriptive Words"], completedSubtopics: [] },
                            { name: "Synonyms & Antonyms", subtopics: ["Word Meanings", "Opposite Meanings"], completedSubtopics: [] },
                            { name: "Cloze Test", subtopics: ["Fill in the Blanks", "Context Clues"], completedSubtopics: [] },
                            { name: "Spotting Errors", subtopics: ["Grammatical Errors", "Punctuation Errors"], completedSubtopics: [] },
                            { name: "Para Jumbles", subtopics: ["Sentence Arrangement", "Paragraph Flow"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    }
                ]
            },
            {
                name: "RAS",
                subjects: [
                    {
                        name: "General Knowledge and General Studies",
                        topics: [
                            { name: "History of Rajasthan", subtopics: ["Ancient Rajasthan", "Medieval Rajasthan"], completedSubtopics: [] },
                            { name: "Art & Culture of Rajasthan", subtopics: ["Folk Dances", "Paintings"], completedSubtopics: [] },
                            { name: "Geography of Rajasthan", subtopics: ["Physical Features", "Climate"], completedSubtopics: [] },
                            { name: "Economy of Rajasthan", subtopics: ["Agriculture", "Industries"], completedSubtopics: [] },
                            { name: "Indian History", subtopics: ["Ancient India", "Modern India"], completedSubtopics: [] },
                            { name: "Indian Geography", subtopics: ["Physical Geography", "Economic Geography"], completedSubtopics: [] },
                            { name: "Polity", subtopics: ["Constitution", "Panchayati Raj"], completedSubtopics: [] },
                            { name: "Current Affairs", subtopics: ["State News", "National News"], completedSubtopics: [] },
                            { name: "Administrative System of Rajasthan", subtopics: ["State Administration", "Local Governance"], completedSubtopics: [] },
                            { name: "Rajasthan’s Economy", subtopics: ["Budget", "Planning"], completedSubtopics: [] },
                            { name: "Public Administration", subtopics: ["Administrative Reforms", "E-Governance"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "General Science",
                        topics: [
                            { name: "Physics", subtopics: ["Mechanics", "Optics"], completedSubtopics: [] },
                            { name: "Chemistry", subtopics: ["Organic Chemistry", "Inorganic Chemistry"], completedSubtopics: [] },
                            { name: "Biology", subtopics: ["Botany", "Zoology"], completedSubtopics: [] },
                            { name: "Environmental Science", subtopics: ["Ecology", "Pollution"], completedSubtopics: [] },
                            { name: "Science & Technology", subtopics: ["Recent Developments", "Innovations"], completedSubtopics: [] },
                            { name: "Computer Awareness", subtopics: ["Hardware", "Software"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "Mental Ability",
                        topics: [
                            { name: "Logical Reasoning", subtopics: ["Statements & Conclusions", "Cause & Effect"], completedSubtopics: [] },
                            { name: "Analytical Reasoning", subtopics: ["Data Analysis", "Pattern Recognition"], completedSubtopics: [] },
                            { name: "Number Series", subtopics: ["Arithmetic Series", "Geometric Series"], completedSubtopics: [] },
                            { name: "Letter Series", subtopics: ["Alphabet Patterns", "Sequence"], completedSubtopics: [] },
                            { name: "Data Sufficiency", subtopics: ["Quantitative Data", "Logical Data"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    }
                ]
            },
            {
                name: "UPSC CSE",
                subjects: [
                    {
                        name: "General Studies I",
                        topics: [
                            { name: "Indian Heritage & Culture", subtopics: ["Art Forms", "Literature"], completedSubtopics: [] },
                            { name: "Modern Indian History", subtopics: ["Freedom Struggle", "Post-Independence"], completedSubtopics: [] },
                            { name: "World History", subtopics: ["World Wars", "Colonialism"], completedSubtopics: [] },
                            { name: "Indian Geography", subtopics: ["Physical Geography", "Human Geography"], completedSubtopics: [] },
                            { name: "World Geography", subtopics: ["Climatology", "Oceanography"], completedSubtopics: [] },
                            { name: "Social Issues", subtopics: ["Poverty", "Gender Equality"], completedSubtopics: [] },
                            { name: "Post-Independence Consolidation", subtopics: ["Reorganization", "Integration"], completedSubtopics: [] },
                            { name: "Salient Features of Indian Society", subtopics: ["Diversity", "Communalism"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "General Studies II",
                        topics: [
                            { name: "Indian Constitution", subtopics: ["Fundamental Rights", "DPSP"], completedSubtopics: [] },
                            { name: "Governance", subtopics: ["Transparency", "Accountability"], completedSubtopics: [] },
                            { name: "International Relations", subtopics: ["Bilateral Relations", "Global Organizations"], completedSubtopics: [] },
                            { name: "Social Justice", subtopics: ["Inclusion", "Empowerment"], completedSubtopics: [] },
                            { name: "Public Policy", subtopics: ["Health Policy", "Education Policy"], completedSubtopics: [] },
                            { name: "Parliament & State Legislatures", subtopics: ["Legislative Process", "Privileges"], completedSubtopics: [] },
                            { name: "Role of Civil Services", subtopics: ["Bureaucracy", "Administration"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "General Studies III",
                        topics: [
                            { name: "Economic Development", subtopics: ["Planning", "Liberalization"], completedSubtopics: [] },
                            { name: "Science & Technology", subtopics: ["Space Technology", "Biotechnology"], completedSubtopics: [] },
                            { name: "Environment", subtopics: ["Conservation", "Climate Change"], completedSubtopics: [] },
                            { name: "Security Issues", subtopics: ["Internal Security", "Cyber Security"], completedSubtopics: [] },
                            { name: "Disaster Management", subtopics: ["Preparedness", "Mitigation"], completedSubtopics: [] },
                            { name: "Agriculture", subtopics: ["Cropping Patterns", "Irrigation"], completedSubtopics: [] },
                            { name: "Infrastructure", subtopics: ["Energy", "Transportation"], completedSubtopics: [] },
                            { name: "Industry", subtopics: ["Manufacturing", "Services"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "General Studies IV",
                        topics: [
                            { name: "Ethics", subtopics: ["Moral Philosophy", "Applied Ethics"], completedSubtopics: [] },
                            { name: "Integrity", subtopics: ["Public Integrity", "Personal Integrity"], completedSubtopics: [] },
                            { name: "Aptitude", subtopics: ["Decision Making", "Problem Solving"], completedSubtopics: [] },
                            { name: "Case Studies", subtopics: ["Ethical Dilemmas", "Administrative Cases"], completedSubtopics: [] },
                            { name: "Emotional Intelligence", subtopics: ["Self-Awareness", "Empathy"], completedSubtopics: [] },
                            { name: "Public Service Values", subtopics: ["Duty", "Accountability"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    }
                ]
            },
            {
                name: "UGC NET Sociology",
                subjects: [
                    {
                        name: "Sociological Theory",
                        topics: [
                            { name: "Classical Theories", subtopics: ["Durkheim", "Weber"], completedSubtopics: [] },
                            { name: "Modern Theories", subtopics: ["Parsons", "Merton"], completedSubtopics: [] },
                            { name: "Postmodern Theories", subtopics: ["Baudrillard", "Lyotard"], completedSubtopics: [] },
                            { name: "Structural Functionalism", subtopics: ["Social System", "Function"], completedSubtopics: [] },
                            { name: "Marxist Sociology", subtopics: ["Class Struggle", "Alienation"], completedSubtopics: [] },
                            { name: "Symbolic Interactionism", subtopics: ["Mead", "Blumer"], completedSubtopics: [] },
                            { name: "Feminist Sociology", subtopics: ["Gender Inequality", "Patriarchy"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "Research Methodology",
                        topics: [
                            { name: "Qualitative Methods", subtopics: ["Interviews", "Ethnography"], completedSubtopics: [] },
                            { name: "Quantitative Methods", subtopics: ["Surveys", "Statistics"], completedSubtopics: [] },
                            { name: "Sampling Techniques", subtopics: ["Random Sampling", "Stratified Sampling"], completedSubtopics: [] },
                            { name: "Data Analysis", subtopics: ["Descriptive Analysis", "Inferential Analysis"], completedSubtopics: [] },
                            { name: "Hypothesis Testing", subtopics: ["Null Hypothesis", "Alternative Hypothesis"], completedSubtopics: [] },
                            { name: "Research Design", subtopics: ["Experimental Design", "Observational Design"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "Social Institutions",
                        topics: [
                            { name: "Family", subtopics: ["Nuclear Family", "Joint Family"], completedSubtopics: [] },
                            { name: "Marriage", subtopics: ["Monogamy", "Polygamy"], completedSubtopics: [] },
                            { name: "Religion", subtopics: ["Secularism", "Fundamentalism"], completedSubtopics: [] },
                            { name: "Education", subtopics: ["Formal Education", "Informal Education"], completedSubtopics: [] },
                            { name: "Economy", subtopics: ["Capitalism", "Socialism"], completedSubtopics: [] },
                            { name: "Polity", subtopics: ["Democracy", "Authoritarianism"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "Social Change",
                        topics: [
                            { name: "Globalization", subtopics: ["Cultural Globalization", "Economic Globalization"], completedSubtopics: [] },
                            { name: "Urbanization", subtopics: ["Urban Growth", "Slums"], completedSubtopics: [] },
                            { name: "Social Movements", subtopics: ["Environmental Movements", "Women’s Movements"], completedSubtopics: [] },
                            { name: "Development Studies", subtopics: ["Sustainable Development", "Human Development"], completedSubtopics: [] },
                            { name: "Modernization", subtopics: ["Westernization", "Industrialization"], completedSubtopics: [] },
                            { name: "Westernization", subtopics: ["Cultural Influence", "Lifestyle Changes"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    }
                ]
            },
            {
                name: "Assistant Professor Sociology",
                subjects: [
                    {
                        name: "Sociological Concepts",
                        topics: [
                            { name: "Social Stratification", subtopics: ["Class", "Caste"], completedSubtopics: [] },
                            { name: "Culture", subtopics: ["Norms", "Values"], completedSubtopics: [] },
                            { name: "Socialization", subtopics: ["Primary Socialization", "Secondary Socialization"], completedSubtopics: [] },
                            { name: "Deviance", subtopics: ["Crime", "Social Control"], completedSubtopics: [] },
                            { name: "Social Control", subtopics: ["Formal Control", "Informal Control"], completedSubtopics: [] },
                            { name: "Social Mobility", subtopics: ["Vertical Mobility", "Horizontal Mobility"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "Indian Society",
                        topics: [
                            { name: "Caste System", subtopics: ["Varna", "Jati"], completedSubtopics: [] },
                            { name: "Tribal Communities", subtopics: ["Scheduled Tribes", "Tribal Culture"], completedSubtopics: [] },
                            { name: "Rural Sociology", subtopics: ["Village Structure", "Agrarian Relations"], completedSubtopics: [] },
                            { name: "Urban Sociology", subtopics: ["Urbanization", "Migration"], completedSubtopics: [] },
                            { name: "Gender Issues", subtopics: ["Patriarchy", "Feminism"], completedSubtopics: [] },
                            { name: "Secularism", subtopics: ["Religious Pluralism", "State Policy"], completedSubtopics: [] },
                            { name: "Communalism", subtopics: ["Religious Conflicts", "Social Harmony"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    },
                    {
                        name: "Contemporary Issues",
                        topics: [
                            { name: "Globalization", subtopics: ["Cultural Impact", "Economic Impact"], completedSubtopics: [] },
                            { name: "Environmental Sociology", subtopics: ["Climate Change", "Conservation"], completedSubtopics: [] },
                            { name: "Science & Technology", subtopics: ["Digital Divide", "Innovation"], completedSubtopics: [] },
                            { name: "Media & Society", subtopics: ["Social Media", "Mass Media"], completedSubtopics: [] },
                            { name: "Migration", subtopics: ["Internal Migration", "International Migration"], completedSubtopics: [] },
                            { name: "Social Inequality", subtopics: ["Economic Disparity", "Social Exclusion"], completedSubtopics: [] }
                        ],
                        completedTopics: [],
                        driveLinks: {}
                    }
                ]
            }
        ];

        function App() {
            const [exams, setExams] = useState(initialExams);
            const [deadlines, setDeadlines] = useState([]);
            const [studySessions, setStudySessions] = useState([]);
            const [mockScores, setMockScores] = useState([]);
            const [searchQuery, setSearchQuery] = useState("");
            const [currentPage, setCurrentPage] = useState("home");
            const [quote, setQuote] = useState("Success is not final, failure is not fatal: It is the courage to continue that counts.");
            const [expandedSubjects, setExpandedSubjects] = useState({});
            const [expandedTopics, setExpandedTopics] = useState({});
            const [examHistory, setExamHistory] = useState([]);
            const [timer, setTimer] = useState(null);
            const [sessionStart, setSessionStart] = useState(null);

            const quotes = [
                "Success is not final, failure is not fatal: It is the courage to continue that counts.",
                "The only way to do great work is to love what you do.",
                "Believe you can and you're halfway there."
            ];

            useEffect(() => {
                const interval = setInterval(() => {
                    setQuote(quotes[Math.floor(Math.random() * quotes.length)]);
                }, 30000);
                return () => clearInterval(interval);
            }, []);

            const addExam = (examName, subjects) => {
                const newExam = { 
                    name: examName, 
                    subjects: subjects.map(sub => ({ 
                        name: sub.name, 
                        topics: sub.topics.map(topic => ({
                            name: topic.name,
                            subtopics: topic.subtopics || [],
                            completedSubtopics: []
                        })),
                        completedTopics: [], 
                        driveLinks: {} 
                    })) 
                };
                setExams([...exams, newExam]);
                setExamHistory([...examHistory, { action: 'add', exam: newExam }]);
            };

            const undoLastExam = () => {
                if (examHistory.length === 0) return;
                const lastAction = examHistory[examHistory.length - 1];
                if (lastAction.action === 'add') {
                    setExams(exams.filter(exam => exam.name !== lastAction.exam.name));
                }
                setExamHistory(examHistory.slice(0, -1));
            };

            const addDeadline = (examName, date) => {
                setDeadlines([...deadlines, { examName, date }]);
            };

            const toggleTopicCompletion = (examIndex, subjectIndex, topicName) => {
                const newExams = [...exams];
                const completedTopics = newExams[examIndex].subjects[subjectIndex].completedTopics;
                if (completedTopics.includes(topicName)) {
                    newExams[examIndex].subjects[subjectIndex].completedTopics = completedTopics.filter(t => t !== topicName);
                } else {
                    newExams[examIndex].subjects[subjectIndex].completedTopics.push(topicName);
                }
                setExams(newExams);
            };

            const toggleSubtopicCompletion = (examIndex, subjectIndex, topicIndex, subtopic) => {
                const newExams = [...exams];
                const completedSubtopics = newExams[examIndex].subjects[subjectIndex].topics[topicIndex].completedSubtopics;
                if (completedSubtopics.includes(subtopic)) {
                    newExams[examIndex].subjects[subjectIndex].topics[topicIndex].completedSubtopics = completedSubtopics.filter(s => s !== subtopic);
                } else {
                    newExams[examIndex].subjects[subjectIndex].topics[topicIndex].completedSubtopics.push(subtopic);
                }
                setExams(newExams);
            };

            const addStudySession = (name, duration, date) => {
                setStudySessions([...studySessions, { name, duration, date }]);
            };

            const startStudySession = (name) => {
                if (timer) return;
                setSessionStart(Date.now());
                setTimer(setInterval(() => {}, 1000));
            };

            const stopStudySession = (name) => {
                if (!timer) return;
                clearInterval(timer);
                const duration = Math.floor((Date.now() - sessionStart) / 60000); // Convert to minutes
                const date = new Date().toISOString().split('T')[0];
                addStudySession(name, duration, date);
                setTimer(null);
                setSessionStart(null);
            };

            const addMockScore = (examName, scores) => {
                const date = new Date().toISOString().split('T')[0];
                setMockScores([...mockScores, { examName, scores, date }]);
            };

            const addDriveLink = (examIndex, subjectIndex, topic, link) => {
                const newExams = [...exams];
                newExams[examIndex].subjects[subjectIndex].driveLinks[topic] = link;
                setExams(newExams);
            };

            const deleteSubject = (examIndex, subjectIndex) => {
                const newExams = [...exams];
                newExams[examIndex].subjects.splice(subjectIndex, 1);
                setExams(newExams);
            };

            const addSubject = (examIndex, subjectName) => {
                const newExams = [...exams];
                newExams[examIndex].subjects.push({
                    name: subjectName,
                    topics: [],
                    completedTopics: [],
                    driveLinks: {}
                });
                setExams(newExams);
            };

            const deleteTopic = (examIndex, subjectIndex, topicName) => {
                const newExams = [...exams];
                newExams[examIndex].subjects[subjectIndex].topics = newExams[examIndex].subjects[subjectIndex].topics.filter(t => t.name !== topicName);
                newExams[examIndex].subjects[subjectIndex].completedTopics = newExams[examIndex].subjects[subjectIndex].completedTopics.filter(t => t !== topicName);
                delete newExams[examIndex].subjects[subjectIndex].driveLinks[topicName];
                setExams(newExams);
            };

            const addSubtopic = (examIndex, subjectIndex, topicIndex, subtopic) => {
                const newExams = [...exams];
                newExams[examIndex].subjects[subjectIndex].topics[topicIndex].subtopics.push(subtopic);
                setExams(newExams);
            };

            const deleteSubtopic = (examIndex, subjectIndex, topicIndex, subtopic) => {
                const newExams = [...exams];
                newExams[examIndex].subjects[subjectIndex].topics[topicIndex].subtopics = 
                    newExams[examIndex].subjects[subjectIndex].topics[topicIndex].subtopics.filter(s => s !== subtopic);
                newExams[examIndex].subjects[subjectIndex].topics[topicIndex].completedSubtopics = 
                    newExams[examIndex].subjects[subjectIndex].topics[topicIndex].completedSubtopics.filter(s => s !== subtopic);
                setExams(newExams);
            };

            const exportToExcel = (data, filename) => {
                const ws = XLSX.utils.json_to_sheet(data);
                const wb = XLSX.utils.book_new();
                XLSX.utils.book_append_sheet(wb, ws, "Sheet1");
                XLSX.write(wb, `${filename}.xlsx`);
            };

            const exportToPDF = (data, filename) => {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                let y = 10;
                doc.text(filename, 10, y);
                y += 10;
                data.forEach(item => {
                    doc.text(JSON.stringify(item), 10, y);
                    y += 10;
                });
                doc.save(`${filename}.pdf`);
            };

            const getSubjectProgress = (subject) => {
                const totalSubtopics = subject.topics.reduce((sum, topic) => sum + topic.subtopics.length, 0);
                const totalCompletedSubtopics = subject.topics.reduce((sum, topic) => sum + topic.completedSubtopics.length, 0);
                if (totalSubtopics === 0) return 0;
                return (totalCompletedSubtopics / totalSubtopics) * 100;
            };

            const getExamProgress = (exam) => {
                const totalSubtopics = exam.subjects.reduce((sum, subject) => 
                    sum + subject.topics.reduce((s, topic) => s + topic.subtopics.length, 0), 0);
                const totalCompletedSubtopics = exam.subjects.reduce((sum, subject) => 
                    sum + subject.topics.reduce((s, topic) => s + topic.completedSubtopics.length, 0), 0);
                if (totalSubtopics === 0) return 0;
                return (totalCompletedSubtopics / totalSubtopics) * 100;
            };

            const getDaysUntil = (date) => {
                const today = new Date();
                const examDate = new Date(date);
                const diffTime = examDate - today;
                return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            };

            const toggleSubjectExpansion = (key) => {
                setExpandedSubjects(prev => ({
                    ...prev,
                    [key]: !prev[key]
                }));
            };

            const toggleTopicExpansion = (key) => {
                setExpandedTopics(prev => ({
                    ...prev,
                    [key]: !prev[key]
                }));
            };

            const filteredExams = exams.filter(exam =>
                exam.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                exam.subjects.some(subject =>
                    subject.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    subject.topics.some(topic =>
                        topic.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                        topic.subtopics.some(subtopic =>
                            subtopic.toLowerCase().includes(searchQuery.toLowerCase())
                        )
                    )
                )
            );

            const renderHome = () => (
                <div className="container mx-auto px-4 py-8">
                    <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                        <h2 className="text-2xl font-bold mb-4">Motivational Quote</h2>
                        <p className="text-lg italic">"{quote}"</p>
                    </div>

                    <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                        <h2 className="text-2xl font-bold mb-4">Upcoming Deadlines</h2>
                        {deadlines.length > 0 ? (
                            deadlines.map((deadline, index) => (
                                <div key={index} className="mb-2 p-2 bg-gray-50 rounded-lg text-sm">
                                    <p>{deadline.examName}: {getDaysUntil(deadline.date)} days remaining (Date: {deadline.date})</p>
                                </div>
                            ))
                        ) : (
                            <p>No deadlines set.</p>
                        )}
                    </div>

                    <div className="mb-6">
                        <input
                            type="text"
                            placeholder="Search topics/subtopics..."
                            className="w-full p-2 border rounded-lg text-sm"
                            value={searchQuery}
                            onChange={(e) => setSearchQuery(e.target.value)}
                        />
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {filteredExams.map((exam, examIndex) => (
                            <div key={exam.name} className="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition">
                                <div className="relative pt-1 mb-2">
                                    <div className="overflow-hidden h-2 mb-2 text-xs flex rounded bg-gray-200">
                                        <div
                                            style={{ width: `${getExamProgress(exam)}%` }}
                                            className="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500"
                                        ></div>
                                    </div>
                                    <p className="text-sm text-gray-600">{getExamProgress(exam).toFixed(2)}% Complete</p>
                                </div>
                                <h3 className="text-xl font-bold mb-2">{exam.name}</h3>
                                {exam.subjects.map((subject, subjectIndex) => {
                                    const subjectKey = `${examIndex}-${subjectIndex}`;
                                    const isSubjectExpanded = expandedSubjects[subjectKey];
                                    return (
                                        <div key={subject.name} className="mb-4">
                                            <div className="relative pt-1 mb-2">
                                                <div className="overflow-hidden h-2 mb-2 text-xs flex rounded bg-gray-200">
                                                    <div
                                                        style={{ width: `${getSubjectProgress(subject)}%` }}
                                                        className="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500"
                                                    ></div>
                                                </div>
                                                <p className="text-sm text-gray-600">{getSubjectProgress(subject).toFixed(2)}% Complete</p>
                                            </div>
                                            <h4 
                                                className="text-lg font-semibold cursor-pointer hover:text-blue-600"
                                                onClick={() => toggleSubjectExpansion(subjectKey)}
                                            >
                                                {subject.name}
                                            </h4>
                                            {isSubjectExpanded && (
                                                <div className="mt-2">
                                                    {subject.topics.map((topic, topicIndex) => {
                                                        const topicKey = `${examIndex}-${subjectIndex}-${topicIndex}`;
                                                        const isTopicExpanded = expandedTopics[topicKey];
                                                        return (
                                                            <div key={topic.name} className="mb-2 ml-4">
                                                                <div 
                                                                    className="flex items-center justify-between cursor-pointer bg-gray-100 p-2 rounded-lg text-sm"
                                                                    onClick={() => toggleTopicExpansion(topicKey)}
                                                                >
                                                                    <div className="flex items-center">
                                                                        {subject.driveLinks[topic.name] ? (
                                                                            <a
                                                                                href={subject.driveLinks[topic.name]}
                                                                                target="_blank"
                                                                                rel="noopener noreferrer"
                                                                                className="text-blue-600 underline mr-2"
                                                                            >
                                                                                {topic.name}
                                                                            </a>
                                                                        ) : (
                                                                            <span>{topic.name}</span>
                                                                        )}
                                                                    </div>
                                                                    <button
                                                                        className={`px-2 py-1 rounded text-xs ${
                                                                            subject.completedTopics.includes(topic.name)
                                                                                ? "bg-green-500 text-white"
                                                                                : "bg-gray-300 text-gray-700"
                                                                        }`}
                                                                        onClick={(e) => {
                                                                            e.stopPropagation();
                                                                            toggleTopicCompletion(examIndex, subjectIndex, topic.name);
                                                                        }}
                                                                    >
                                                                        {subject.completedTopics.includes(topic.name) ? "Done" : "Mark Done"}
                                                                    </button>
                                                                </div>
                                                                {isTopicExpanded && (
                                                                    <div className="ml-4 mt-2">
                                                                        {topic.subtopics.map(subtopic => (
                                                                            <div
                                                                                key={subtopic}
                                                                                className="flex items-center justify-between text-sm py-1"
                                                                            >
                                                                                <span>{subtopic}</span>
                                                                                <button
                                                                                    className={`px-2 py-1 rounded text-xs ${
                                                                                        topic.completedSubtopics.includes(subtopic)
                                                                                            ? "bg-green-500 text-white"
                                                                                            : "bg-gray-300 text-gray-700"
                                                                                    }`}
                                                                                    onClick={() => toggleSubtopicCompletion(examIndex, subjectIndex, topicIndex, subtopic)}
                                                                                >
                                                                                    {topic.completedSubtopics.includes(subtopic) ? "Done" : "Mark Done"}
                                                                                </button>
                                                                            </div>
                                                                        ))}
                                                                    </div>
                                                                )}
                                                            </div>
                                                        );
                                                    })}
                                                </div>
                                            )}
                                        </div>
                                    );
                                })}
                                <div className="dropdown relative">
                                    <button className="bg-green-500 text-white px-4 py-2 rounded-lg w-full text-left text-sm">
                                        Export Progress
                                    </button>
                                    <div className="dropdown-menu hidden absolute bg-white shadow-lg rounded-lg mt-1 w-full z-10">
                                        <div
                                            className="px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm"
                                            onClick={() => exportToExcel(exam.subjects.map(s => ({
                                                Subject: s.name,
                                                Progress: `${getSubjectProgress(s).toFixed(2)}%`,
                                                CompletedTopics: s.completedTopics.join(", "),
                                                CompletedSubtopics: s.topics.map(t => `${t.name}: ${t.completedSubtopics.join(", ")}`).join("; ")
                                            })), `${exam.name}_Progress`)}
                                        >
                                            Excel
                                        </div>
                                        <div
                                            className="px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm"
                                            onClick={() => exportToPDF(exam.subjects.map(s => ({
                                                Subject: s.name,
                                                Progress: `${getSubjectProgress(s).toFixed(2)}%`,
                                                CompletedTopics: s.completedTopics.join(", "),
                                                CompletedSubtopics: s.topics.map(t => `${t.name}: ${t.completedSubtopics.join(", ")}`).join("; ")
                                            })), `${exam.name}_Progress`)}
                                        >
                                            PDF
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                    <footer className="mt-8 text-center text-gray-600 text-sm">
                        Created By Akash Chaudhary ❤️
                    </footer>
                </div>
            );

            const renderDeadlines = () => (
                <div className="container mx-auto px-4 py-8">
                    <h2 className="text-2xl font-bold mb-6">Exam Deadlines</h2>
                    <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                        <h3 className="text-xl font-semibold mb-4">Add New Deadline</h3>
                        <div className="flex gap-4 flex-wrap">
                            <input
                                type="text"
                                placeholder="Exam Name"
                                className="p-2 border rounded-lg text-sm flex-1"
                                id="deadlineExam"
                            />
                            <input
                                type="date"
                                className="p-2 border rounded-lg text-sm"
                                id="deadlineDate"
                            />
                            <button
                                className="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm"
                                onClick={() => {
                                    const examName = document.getElementById("deadlineExam").value;
                                    const date = document.getElementById("deadlineDate").value;
                                    if (examName && date) {
                                        addDeadline(examName, date);
                                        document.getElementById("deadlineExam").value = "";
                                        document.getElementById("deadlineDate").value = "";
                                    }
                                }}
                            >
                                Add Deadline
                            </button>
                        </div>
                    </div>
                    <div className="bg-white rounded-lg shadow-md p-6">
                        <h3 className="text-xl font-semibold mb-4">Upcoming Deadlines</h3>
                        {deadlines.length > 0 ? (
                            deadlines.map((deadline, index) => (
                                <div key={index} className="mb-2 p-2 bg-gray-50 rounded-lg text-sm">
                                    <p>{deadline.examName}: {getDaysUntil(deadline.date)} days remaining (Date: {deadline.date})</p>
                                </div>
                            ))
                        ) : (
                            <p>No deadlines set.</p>
                        )}
                    </div>
                    <footer className="mt-8 text-center text-gray-600 text-sm">
                        Created By Akash Chaudhary ❤️
                    </footer>
                </div>
            );

            const renderStudyTracker = () => (
                <div className="container mx-auto px-4 py-8">
                    <h2 className="text-2xl font-bold mb-6">Study Time Tracker</h2>
                    <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                        <h3 className="text-xl font-semibold mb-4">Manage Study Session</h3>
                        <div className="flex gap-4 flex-wrap">
                            <input
                                type="text"
                                placeholder="Session Name"
                                className="p-2 border rounded-lg text-sm flex-1"
                                id="sessionName"
                            />
                            <div className="flex gap-2">
                                <input
                                    type="number"
                                    placeholder="Hours"
                                    className="p-2 border rounded-lg text-sm w-24"
                                    id="sessionHours"
                                    min="0"
                                />
                                <input
                                    type="number"
                                    placeholder="Minutes"
                                    className="p-2 border rounded-lg text-sm w-24"
                                    id="sessionMinutes"
                                    min="0"
                                    max="59"
                                />
                            </div>
                            <button
                                className="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm"
                                onClick={() => {
                                    const name = document.getElementById("sessionName").value;
                                    const hours = parseInt(document.getElementById("sessionHours").value) || 0;
                                    const minutes = parseInt(document.getElementById("sessionMinutes").value) || 0;
                                    const duration = hours * 60 + minutes;
                                    if (name && duration > 0) {
                                        const date = new Date().toISOString().split('T')[0];
                                        addStudySession(name, duration, date);
                                        document.getElementById("sessionName").value = "";
                                        document.getElementById("sessionHours").value = "";
                                        document.getElementById("sessionMinutes").value = "";
                                    }
                                }}
                            >
                                Add Session
                            </button>
                        </div>
                        <div className="mt-4 flex gap-4">
                            <button
                                className={`px-4 py-2 rounded-lg text-sm ${timer ? 'bg-gray-400' : 'bg-green-500 text-white'}`}
                                onClick={() => {
                                    const name = document.getElementById("sessionName").value || "Untitled Session";
                                    startStudySession(name);
                                }}
                                disabled={timer}
                            >
                                Start Session
                            </button>
                            <button
                                className={`px-4 py-2 rounded-lg text-sm ${timer ? 'bg-red-500 text-white' : 'bg-gray-400'}`}
                                onClick={() => {
                                    const name = document.getElementById("sessionName").value || "Untitled Session";
                                    stopStudySession(name);
                                }}
                                disabled={!timer}
                            >
                                Stop Session
                            </button>
                        </div>
                    </div>
                    <div className="bg-white rounded-lg shadow-md p-6">
                        <h3 className="text-xl font-semibold mb-4">Study Sessions</h3>
                        <div className="mb-4">
                            <h4 className="text-lg font-semibold">Daily Totals</h4>
                            {Object.entries(
                                studySessions.reduce((acc, session) => {
                                    acc[session.date] = (acc[session.date] || 0) + session.duration;
                                    return acc;
                                }, {})
                            ).map(([date, total]) => (
                                <div key={date} className="mb-2 p-2 bg-gray-50 rounded-lg text-sm">
                                    <p>{date}: {Math.floor(total / 60)}h {total % 60}m</p>
                                </div>
                            ))}
                        </div>
                        <div className="mb-4">
                            <h4 className="text-lg font-semibold">Monthly Totals</h4>
                            {Object.entries(
                                studySessions.reduce((acc, session) => {
                                    const month = new Date(session.date).toLocaleString('default', { month: 'long', year: 'numeric' });
                                    acc[month] = (acc[month] || 0) + session.duration;
                                    return acc;
                                }, {})
                            ).map(([month, total]) => (
                                <div key={month} className="mb-2 p-2 bg-gray-50 rounded-lg text-sm">
                                    <p>{month}: {Math.floor(total / 60)}h {total % 60}m</p>
                                </div>
                            ))}
                        </div>
                        <div className="flex gap-4">
                            <button
                                className="bg-green-500 text-white px-4 py-2 rounded-lg text-sm"
                                onClick={() => exportToExcel(studySessions.map(s => ({
                                    ...s,
                                    duration: `${Math.floor(s.duration / 60)}h ${s.duration % 60}m`
                                })), "Study_Sessions")}
                            >
                                Export to Excel
                            </button>
                            <button
                                className="bg-green-500 text-white px-4 py-2 rounded-lg text-sm"
                                onClick={() => exportToPDF(studySessions.map(s => ({
                                    ...s,
                                    duration: `${Math.floor(s.duration / 60)}h ${s.duration % 60}m`
                                })), "Study_Sessions")}
                            >
                                Export to PDF
                            </button>
                        </div>
                    </div>
                    <footer className="mt-8 text-center text-gray-600 text-sm">
                        Created By Akash Chaudhary ❤️
                    </footer>
                </div>
            );

            const renderAddExam = () => {
                const [newExamName, setNewExamName] = useState('');
                const [newSubjects, setNewSubjects] = useState([{ name: '', topics: '', subtopics: '' }]);

                const updateSubject = (index, field, value) => {
                    const updatedSubjects = [...newSubjects];
                    updatedSubjects[index][field] = value;
                    setNewSubjects(updatedSubjects);
                };

                const addNewSubject = () => {
                    setNewSubjects([...newSubjects, { name: '', topics: '', subtopics: '' }]);
                };

                const deleteNewSubject = (index) => {
                    setNewSubjects(newSubjects.filter((_, i) => i !== index));
                };

                const handleAddExam = () => {
                    if (!newExamName || newSubjects.every(s => !s.name)) return;
                    const subjects = newSubjects
                        .filter(s => s.name)
                        .map(s => ({
                            name: s.name,
                            topics: s.topics.split(",").map(t => t.trim()).filter(t => t).map(name => ({
                                name,
                                subtopics: s.subtopics ? s.subtopics.split(",").map(sub => sub.trim()).filter(sub => sub) : [],
                                completedSubtopics: []
                            })),
                            completedTopics: [],
                            driveLinks: {}
                        }));
                    addExam(newExamName, subjects);
                    setNewExamName('');
                    setNewSubjects([{ name: '', topics: '', subtopics: '' }]);
                    setCurrentPage("home");
                };

                return (
                    <div className="container mx-auto px-4 py-8">
                        <h2 className="text-2xl font-bold mb-6">Add New Exam</h2>
                        <div className="bg-white rounded-lg shadow-md p-6">
                            <div className="mb-4">
                                <label className="block text-lg font-semibold mb-2">Exam Name</label>
                                <input
                                    type="text"
                                    className="w-full p-2 border rounded-lg text-sm"
                                    value={newExamName}
                                    onChange={(e) => setNewExamName(e.target.value)}
                                />
                            </div>
                            <div className="mb-4">
                                <label className="block text-lg font-semibold mb-2">Subjects</label>
                                {newSubjects.map((subject, index) => (
                                    <div key={index} className="subject mb-4 p-4 bg-gray-50 rounded-lg">
                                        <div className="flex gap-2 flex-wrap mb-2">
                                            <input
                                                type="text"
                                                placeholder="Subject Name"
                                                className="p-2 border rounded-lg flex-1 text-sm"
                                                value={subject.name}
                                                onChange={(e) => updateSubject(index, 'name', e.target.value)}
                                            />
                                            <input
                                                type="text"
                                                placeholder="Topics (comma-separated)"
                                                className="p-2 border rounded-lg flex-1 text-sm"
                                                value={subject.topics}
                                                onChange={(e) => updateSubject(index, 'topics', e.target.value)}
                                            />
                                            <input
                                                type="text"
                                                placeholder="Subtopics (comma-separated, optional)"
                                                className="p-2 border rounded-lg flex-1 text-sm"
                                                value={subject.subtopics}
                                                onChange={(e) => updateSubject(index, 'subtopics', e.target.value)}
                                            />
                                        </div>
                                        <button
                                            className="bg-red-500 text-white px-4 py-2 rounded-lg text-sm"
                                            onClick={() => deleteNewSubject(index)}
                                        >
                                            Delete Subject
                                        </button>
                                    </div>
                                ))}
                                <button
                                    className="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm"
                                    onClick={addNewSubject}
                                >
                                    Add Subject
                                </button>
                            </div>
                            <div className="mb-4">
                                <label className="block text-lg font-semibold mb-2">Manage Existing Exams</label>
                                <div>
                                    {exams.map((exam, examIndex) => (
                                        <div key={exam.name} className="mb-4">
                                            <div className="flex items-center justify-between">
                                                <h3 className="text-lg font-semibold">{exam.name}</h3>
                                                <div className="flex gap-2">
                                                    <input
                                                        type="text"
                                                        placeholder="New Subject Name"
                                                        className="p-2 border rounded-lg text-sm"
                                                        id={`new-subject-${examIndex}`}
                                                    />
                                                    <button
                                                        className="bg-blue-500 text-white px-2 py-1 rounded-lg text-sm"
                                                        onClick={() => {
                                                            const subjectName = document.getElementById(`new-subject-${examIndex}`).value;
                                                            if (subjectName) {
                                                                addSubject(examIndex, subjectName);
                                                                document.getElementById(`new-subject-${examIndex}`).value = "";
                                                            }
                                                        }}
                                                    >
                                                        Add Subject
                                                    </button>
                                                </div>
                                            </div>
                                            {exam.subjects.map((subject, subjectIndex) => (
                                                <div key={subject.name} className="ml-4 mb-2">
                                                    <div className="flex items-center justify-between">
                                                        <h4 className="text-md font-medium">{subject.name}</h4>
                                                        <button
                                                            className="bg-red-500 text-white px-2 py-1 rounded-lg text-sm"
                                                            onClick={() => deleteSubject(examIndex, subjectIndex)}
                                                        >
                                                            Delete Subject
                                                        </button>
                                                    </div>
                                                    {subject.topics.map((topic, topicIndex) => (
                                                        <div key={topic.name} className="ml-4 mt-2">
                                                            <div className="flex items-center justify-between">
                                                                <span className="text-sm">{topic.name}</span>
                                                                <div className="flex gap-2">
                                                                    <input
                                                                        type="text"
                                                                        placeholder="Google Drive Link"
                                                                        className="p-2 border rounded-lg text-sm"
                                                                        defaultValue={subject.driveLinks[topic.name] || ""}
                                                                        onBlur={(e) => {
                                                                            const link = e.target.value;
                                                                            if (link) {
                                                                                addDriveLink(examIndex, subjectIndex, topic.name, link);
                                                                            }
                                                                        }}
                                                                    />
                                                                    <button
                                                                        className="bg-red-500 text-white px-2 py-1 rounded-lg text-sm"
                                                                        onClick={() => deleteTopic(examIndex, subjectIndex, topic.name)}
                                                                    >
                                                                        Delete Topic
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <div className="ml-4 mt-2">
                                                                {topic.subtopics.map(subtopic => (
                                                                    <div key={subtopic} className="flex items-center justify-between text-sm mb-1">
                                                                        <span>{subtopic}</span>
                                                                        <button
                                                                            className="bg-red-500 text-white px-2 py-1 rounded-lg text-xs"
                                                                            onClick={() => deleteSubtopic(examIndex, subjectIndex, topicIndex, subtopic)}
                                                                        >
                                                                            Delete Subtopic
                                                                        </button>
                                                                    </div>
                                                                ))}
                                                                <div className="flex gap-2 mt-2">
                                                                    <input
                                                                        type="text"
                                                                        placeholder="Add Subtopic"
                                                                        className="p-2 border rounded-lg flex-1 text-sm"
                                                                        id={`subtopic-${examIndex}-${subjectIndex}-${topicIndex}`}
                                                                    />
                                                                    <button
                                                                        className="bg-blue-5
                                                                        00 text-white px-2 py-1 rounded-lg text-sm"
                                                                        onClick={() => {
                                                                            const subtopic = document.getElementById(`subtopic-${examIndex}-${subjectIndex}-${topicIndex}`).value;
                                                                            if (subtopic) {
                                                                                addSubtopic(examIndex, subjectIndex, topicIndex, subtopic);
                                                                                document.getElementById(`subtopic-${examIndex}-${subjectIndex}-${topicIndex}`).value = "";
                                                                            }
                                                                        }}
                                                                    >
                                                                        Add Subtopic
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    ))}
                                                </div>
                                            ))}
                                        </div>
                                    ))}
                                </div>
                            </div>
                            <div className="flex gap-4">
                                <button
                                    className="bg-green-500 text-white px-4 py-2 rounded-lg text-sm"
                                    onClick={handleAddExam}
                                >
                                    Add Exam
                                </button>
                                <button
                                    className="bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm"
                                    onClick={undoLastExam}
                                    disabled={examHistory.length === 0}
                                >
                                    Undo Last Add
                                </button>
                            </div>
                        </div>
                        <footer className="mt-8 text-center text-gray-600 text-sm">
                            Created By Akash Chaudhary ❤️
                        </footer>
                    </div>
                );
            };

            const renderMockTest = () => {
                const [selectedExam, setSelectedExam] = useState(exams[0]?.name || '');
                const [scores, setScores] = useState({});

                const handleScoreChange = (subject, value) => {
                    setScores(prev => ({ ...prev, [subject]: parseFloat(value) || 0 }));
                };

                const handleAddScore = () => {
                    if (!selectedExam || Object.keys(scores).length === 0) return;
                    addMockScore(selectedExam, scores);
                    setScores({});
                };

                const selectedExamData = exams.find(exam => exam.name === selectedExam);

                return (
                    <div className="container mx-auto px-4 py-8">
                        <h2 className="text-2xl font-bold mb-6">Mock Test Scores</h2>
                        <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                            <h3 className="text-xl font-semibold mb-4">Add Mock Test Score</h3>
                            <div className="mb-4">
                                <label className="block text-lg font-semibold mb-2">Select Exam</label>
                                <select
                                    className="p-2 border rounded-lg text-sm w-full"
                                    value={selectedExam}
                                    onChange={(e) => setSelectedExam(e.target.value)}
                                >
                                    {exams.map(exam => (
                                        <option key={exam.name} value={exam.name}>{exam.name}</option>
                                    ))}
                                </select>
                            </div>
                            {selectedExamData && (
                                <div className="mb-4">
                                    <label className="block text-lg font-semibold mb-2">Subject Scores</label>
                                    {selectedExamData.subjects.map(subject => (
                                        <div key={subject.name} className="flex gap-4 mb-2 items-center">
                                            <span className="flex-1 text-sm">{subject.name}</span>
                                            <input
                                                type="number"
                                                placeholder="Score"
                                                className="p-2 border rounded-lg text-sm w-24"
                                                value={scores[subject.name] || ''}
                                                onChange={(e) => handleScoreChange(subject.name, e.target.value)}
                                                min="0"
                                            />
                                        </div>
                                    ))}
                                </div>
                            )}
                            <button
                                className="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm"
                                onClick={handleAddScore}
                            >
                                Add Scores
                            </button>
                        </div>
                        <div className="bg-white rounded-lg shadow-md p-6">
                            <h3 className="text-xl font-semibold mb-4">Mock Test History</h3>
                            {mockScores.length > 0 ? (
                                mockScores.map((score, index) => (
                                    <div key={index} className="mb-2 p-2 bg-gray-50 rounded-lg text-sm">
                                        <p><strong>{score.examName}</strong> ({score.date})</p>
                                        {Object.entries(score.scores).map(([subject, value]) => (
                                            <p key={subject} className="ml-4">{subject}: {value}</p>
                                        ))}
                                    </div>
                                ))
                            ) : (
                                <p>No mock scores recorded.</p>
                            )}
                            <div className="flex gap-4 mt-4">
                                <button
                                    className="bg-green-500 text-white px-4 py-2 rounded-lg text-sm"
                                    onClick={() => exportToExcel(mockScores.map(s => ({
                                        Exam: s.examName,
                                        Date: s.date,
                                        ...s.scores
                                    })), "Mock_Scores")}
                                >
                                    Export to Excel
                                </button>
                                <button
                                    className="bg-green-500 text-white px-4 py-2 rounded-lg text-sm"
                                    onClick={() => exportToPDF(mockScores.map(s => ({
                                        Exam: s.examName,
                                        Date: s.date,
                                        ...s.scores
                                    })), "Mock_Scores")}
                                >
                                    Export to PDF
                                </button>
                            </div>
                        </div>
                        <footer className="mt-8 text-center text-gray-600 text-sm">
                            Created By Akash Chaudhary ❤️
                        </footer>
                    </div>
                );
            };

            return (
                <div>
                    <nav className="bg-blue-600 text-white p-4 shadow-md">
                        <div className="container mx-auto flex justify-between items-center">
                            <div className="text-2xl font-bold">PrepTrack-By Akash Chaudhary</div>
                            <div className="flex gap-4">
                                <button
                                    className="hover:bg-blue-700 px-3 py-2 rounded-lg transition text-sm"
                                    onClick={() => setCurrentPage("home")}
                                >
                                    Home
                                </button>
                                <button
                                    className="hover:bg-blue-700 px-3 py-2 rounded-lg transition text-sm"
                                    onClick={() => setCurrentPage("deadlines")}
                                >
                                    Deadlines
                                </button>
                                <button
                                    className="hover:bg-blue-700 px-3 py-2 rounded-lg transition text-sm"
                                    onClick={() => setCurrentPage("studyTracker")}
                                >
                                    Study Tracker
                                </button>
                                <button
                                    className="hover:bg-blue-700 px-3 py-2 rounded-lg transition text-sm"
                                    onClick={() => setCurrentPage("addExam")}
                                >
                                    Add Exam
                                </button>
                                <button
                                    className="hover:bg-blue-700 px-3 py-2 rounded-lg transition text-sm"
                                    onClick={() => setCurrentPage("mockTest")}
                                >
                                    Mock Test
                                </button>
                            </div>
                        </div>
                    </nav>
                    {currentPage === "home" && renderHome()}
                    {currentPage === "deadlines" && renderDeadlines()}
                    {currentPage === "studyTracker" && renderStudyTracker()}
                    {currentPage === "addExam" && renderAddExam()}
                    {currentPage === "mockTest" && renderMockTest()}
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById("root"));
    </script>
</body>
</html>